<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css"
          type="text/css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/railscasts.min.css"
          rel="stylesheet"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/kotlin.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
      

body {
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
  font-size:90%;
  color: black;
}

p {
  margin: 0.5em;
}

pre code {
  font-family: "Monaco";
  font-size: 100%;
}

img {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  margin:10px;
}

h1, h2, h3 {
  border-bottom:thin solid black;
  margin-bottom: 0.5em;
  margin-top: 1em;
}

h1 {
  font-style:italic;
  font-size:130%;
}

h2 {
  font-size:110%;
}

h3 {
  font-size:100%;
}



      

html, body {
  height: 100%;
  margin: 0;
}
.wrapper {
  height: 100%;
  display: flex;
  flex-direction: column;
}
.footer {
  background: white;
  text-align: right;
}
.content {
  flex: 1;
  overflow: auto;
}



    </style>
  </head>

  
  

  <div class="ui fixed top pointing inverted stackable menu labmenu">
    <header class="header item">
      <i id="toc" class="sitemap icon"></i>
      
        <a href="../index.html">  Publishing  </a>
      
    </header>
    <div class="right tab-menu menu">
      
        <a class="item" data-tab="Lab-03-Publish">
          Lab-03-Publish
        </a>
      
        <a class="item" data-tab="01">
          01
        </a>
      
        <a class="item" data-tab="02">
          02
        </a>
      
        <a class="item" data-tab="03">
          03
        </a>
      
        <a class="item" data-tab="04">
          04
        </a>
      
        <a class="item" data-tab="Exercises">
          Exercises
        </a>
      
    </div>
  </div>


  

  <div class="ui pushable">
    <div class="ui inverted labeled icon left inline vertical sidebar menu">
      <br><br>
      
        
          <a class="item"
             href="https://wit-tutors.github.io/tutors-starter-public//topic01-setup/book-setup/index.html">Lab-01-Setup </a>
        
      
        
          <a class="item"
             href="https://wit-tutors.github.io/tutors-starter-public//topic02-labs/book-labs/index.html">Lab-02-Composition </a>
        
      
        
          <a class="item"
             href="https://wit-tutors.github.io/tutors-starter-public//topic03-publishing/book-a-github-desktop/index.html">Lab-03-Publish </a>
        
      
        
          <a class="item"
             href="https://wit-tutors.github.io/tutors-starter-public//topic04-portfolios/book-portfolio/index.html">Lab-05-Portfolio </a>
        
      
    </div>
    <div class="pusher" tabindex="-1">
      <div class="ui basic segment">
        <br>
        
          <div class="ui tab segment lab" data-tab="Lab-03-Publish">
            <h1>Objectives</h1>
<p>Publishing a Lab to Github using Github Desktop</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="01">
            <h1>Github Gh-pages</h1>
<p>Github provides a convenient, free and rapid static public web site publishing facility called Gh-Pages</p>
<ul>
<li><a href="https://pages.github.com/">https://pages.github.com/</a></li>
</ul>
<p>This step assumes you have a github account, and git has been installed in your workstation.</p>
<p>Recall that tutors generates a static web site to the <code>./public-site</code> folder:</p>
<p><img src="img/01.png" alt="public-site"></p>
<p>This folder is what we need to publish - not the &#39;source&#39; for the course web. 
To publish a course web requires these steps: </p>
<ul>
<li>determine the course web url</li>
<li>Create the repository locally</li>
<li>Commit all relevant files to the local repo</li>
<li>Synchronise the repository with github</li>
</ul>
<p>We will go through these steps now...</p>
<p>First, the course url. If we are going to publish the course on github, we will ultimately be using 2 urls.</p>
<ul>
<li>URL 1: The github.com reference to the repository containing the publick-site-uk folder</li>
<li>URL 2: The published url of the course, which is the link you give to students.</li>
</ul>
<h2>URL 1: github repo</h2>
<p>This is easy to work out. You give the repo a name  - say <code>tutors-course-public</code> - and when you create and push the repo to github, this url will be:</p>
<ul>
<li><a href="https://github.com/[YOUR-GITHUB-NAME]/[YOUR-REPO-NAME">https://github.com/[YOUR-GITHUB-NAME]/[YOUR-REPO-NAME</a>]</li>
</ul>
<h2>URL 2: gh-pages repo</h2>
<p>Again fairly easy to work out. When the site is available publicly, the url will be structured like this:</p>
<ul>
<li><a href="https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME">https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME</a>]</li>
</ul>
<p>For this lab, the 2 urls will be:</p>
<ul>
<li><a href="https://github.com/[YOUR-GITHUB-NAME]/tutors-course-public">https://github.com/[YOUR-GITHUB-NAME]/tutors-course-public</a></li>
<li><a href="https://[YOUR-GITHUB-NAME].github.io/tutors-course-public">https://[YOUR-GITHUB-NAME].github.io/tutors-course-public</a></li>
</ul>
<p>Here are examples of what to expect:</p>
<ul>
<li><a href="https://github.com/edeleastar/tutors-course-public">https://github.com/edeleastar/tutors-course-public</a></li>
<li><a href="https://edeleastar.github.io/tutors-course-public">https://edeleastar.github.io/tutors-course-public</a></li>
</ul>
<p>Work out both repo names now - and you will need to put the gh-pages url into the properties.yaml file in your course:</p>
<h2>properties.yaml</h2>
<pre><code>slack          : https://tutors-ts-group.slack.com/messages/CCKS0HR0Q
moodle         : https://moodle.wit.ie/course/view.php?id=118143&amp;section=3
youtube        : https://www.youtube.com/playlist?list=PLMW4bgOfD3Dwi6FWirJ3AQtXZ-N_hV3Eo
highlightstyle : railscasts
courseurl      : https://wit-tutors.github.io/tutors-starter-public/
credits        : Your name, WIT</code></pre>
<p>Change the courseurl property to the gh-pages url now.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="02">
            <h1>Create a Repository</h1>
<p>Before proceeding with this step - it is important to make the following change to the tutors-start-0 course. This was created by cloning this repo here:</p>
<ul>
<li><a href="https://github.com/wit-tutors/tutors-starter">https://github.com/wit-tutors/tutors-starter</a></li>
</ul>
<p>We need to break the link to that repo now. The simplest way to do this is to delete the <code>.git</code> folder inside <code>tutors-starter-0</code>. Just locate it and delete it using explorer/finder or whatever.</p>
<p>Open the Git Desktop app, and drag &amp; drop the <code>public-site</code> folder onto the app:</p>
<p><img src="img/01.png" alt=""></p>
<p>When it lands on the app it will prompt you to create  new repository. Press <code>Create a Repository</code>. In the subsequent dialog, give the repo a name - say tutors-course-public:</p>
<p><img src="img/04.png" alt=""></p>
<p>The app will initialize  new git repository in the public-site folder. It should look like this:</p>
<p><img src="img/05.png" alt=""></p>
<p>Select the <code>History</code> button (next to &#39;Changes&#39; on the toolbar), should see this:</p>
<p><img src="img/06.png" alt=""></p>
<p>Press the &#39;Publish repository&#39; option:</p>
<p><img src="img/07.png" alt=""></p>
<p>You may need to enter the name of the repository again here. Also, uncheck the private option. Now press publish.</p>
<p>After a few minutes the site will be on your github account.</p>
<p><img src="img/19.png" alt=""></p>
<p>The url will be something like:</p>
<ul>
<li><a href="https://github.com/[YOUR-GITHUB-NAME]/[YOUR-REPO-NAME">https://github.com/[YOUR-GITHUB-NAME]/[YOUR-REPO-NAME</a>]</li>
</ul>
<p>Your git desktop will revert to looking like this</p>
<p><img src="img/18.png" alt=""></p>

          </div>
        
          <div class="ui tab segment lab" data-tab="03">
            <h1>Serving the course as as a web site</h1>
<p>By default the site will not be published as a site yet. Do make it available, you will need to do the following:</p>
<ul>
<li>Go to your repo on github.com and select the repository settings:</li>
</ul>
<p><img src="img/20.png" alt=""></p>
<ul>
<li>Scroll down to the gh-pages section:</li>
</ul>
<p><img src="img/21.png" alt=""></p>
<ul>
<li>under Source select the Master Branch and press save. </li>
</ul>
<p><img src="img/22.png" alt=""></p>
<p>Your course should now be published - the url is also visible now in the github pages settings:</p>
<p><img src="img/23.png" alt=""></p>
<p>In general the url will be structured like this:</p>
<ul>
<li><a href="https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME">https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME</a>]</li>
</ul>
<p>Try the url now and verify that the site is published</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="04">
            <h1>Updating a site</h1>
<p>Once the site is already published the workflow for updating a site is simplified:</p>
<ul>
<li>Edit the Course Source</li>
<li>Regenerate the  (using the tutors-ts command)</li>
<li>Commit updates to the local repository</li>
<li>Synchronise the local and remote repositories</li>
<li>Check if updates published</li>
</ul>
<p>We can try this now. </p>
<h2>Edit the Course Source</h2>
<p>Make a change to a course you may have been experimenting with - introduce an image or change the wording of a talk or modify the text in a step. If you are using Sublime, make sure to save the file(s). Remember, you are editing the files in <code>tutors-starter-0</code>, not <code>tutors-starter-0/oublic-site-uk</code>.</p>
<h2>Regenerate the Course</h2>
<p>From within the course source folder (tutors-starter-0), run the <code>tutors-ts</code> command:</p>
<pre><code>tutors-ts course web generator: 2.5.0
::   Course Title
  --&gt;   Simple
::  Simple
  --&gt;  Lecture 1
  --&gt;  Lecture 2
  --&gt;  Lab-01
  --&gt;   Varied
::  Varied
  --&gt;  Lecture 3
  --&gt;  Lecture 4
  --&gt;  Lab-02
  --&gt;  Lab-02
  --&gt;  Resource I
  --&gt;  Github Repo  1
  --&gt;  Github Repo  2
  --&gt;   Media
::  Media
  --&gt;  Lecture 5
  --&gt;  Lab-04
  --&gt;  12: Deployment
  --&gt;  Resource I
  --&gt;   Units
::  Units
  --&gt;  Unit 1 Title
:: Unit 1 Title
  --&gt;  Lecture 6
  --&gt;  Lecture 7
  --&gt;  Lab-05
  --&gt;  Unit 2 Title
:: Unit 2 Title
  --&gt;  Lecture 8
  --&gt;  Lecture 9
  --&gt;  Lab-06
  --&gt;  Unit 3 Title
:: Unit 3 Title
  --&gt;  Lecture 10
  --&gt;  Lecture 11
  --&gt;  Lab-07</code></pre>
<h2>Commit updates to the local repository</h2>
<p>Changes made by the above step will be automatically detected by Github Desktop. We commit the changes with a suitable message:</p>
<p><img src="img/24.png" alt=""></p>
<p>Enter a summary and press <code>Commit to master</code>.</p>
<p><img src="img/25.png" alt=""></p>
<h2>Synchronise the local and remote repositories</h2>
<p>The  <code>Push origin</code> button will contain an indication that you are out of sync with the server:</p>
<p><img src="img/26.png" alt=""></p>
<p>Press the button now..</p>
<p><img src="img/27.png" alt=""></p>
<p>This should quickly update the remote site:</p>
<h2>Check if updates published</h2>
<p>Now check if the updates are live:</p>
<ul>
<li><a href="https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME">https://[YOUR-GITHUB-NAME].github.io/[YOUR-REPO-NAME</a>]</li>
</ul>
<p>This may take a few minutes for the changes to percolate through the caches etc... Sometimes you can accelerate the process by refreshing your page in the browser while holding the <code>shift</code> key down (forces cache clearance for current site).</p>
<p>Only updated files will be pushed - so the <code>push</code> should be much quicker than the very first push to this repo.</p>

          </div>
        
          <div class="ui tab segment lab" data-tab="Exercises">
            <h1>Exercises</h1>
<h2>Exercise 1: Practice Updating &amp; Publishing the Public Site</h2>
<p>Try another edit to the source of the course to get used to the process. Remember, it will involve the following:</p>
<ul>
<li>Make the change to the source</li>
<li>Regenerate the course (running <code>tutors-ts</code> command in the course folder)</li>
<li>Inspect the course locally first (opening public-site-uk/index.html) to see if the changes are as expected</li>
<li>Commit auto detected modifications in Github Desktop</li>
<li>Push the repository</li>
</ul>
<h2>Exercise 2: Publish the Source to github</h2>
<p>Currently github hosts the public-site-uk contents only - and we are using the gh-pages facility to have the contents served as a web site. We could try creating another repo on github - this time to host the source of the course. I.e. the <code>tutors-course-source</code> contents.</p>
<p>Before you do this, however, there is one important step  </p>
<ul>
<li><strong>delete the .git directory in tutors-starter-0 folder</strong>. </li>
</ul>
<p>We should have already done this. This is important - as the starter course was cloned from a git repository - and is currently linked to this origin. Once this the <code>.git</code> folder is deleted, we are breaking this link.</p>
<p>You can use the same steps we used to create the public site repo to create a separate repo for the course sources:</p>
<ul>
<li>drag and drop <code>tutors-starter-0</code> onto the Github desktop app </li>
<li>press create a new repo</li>
<li>commit all files to the local repo - this time stay with the <code>master</code> branch</li>
<li>publish the repo to github</li>
</ul>
<p>The source repo contains a file called <code>.gitignore</code> - which contains the following:</p>
<pre><code>public-site-uk
private-site-uk
public-site</code></pre>
<p>This excludes these subdirectories from the repo - which we are happy to do. This is the structure we can aim for:</p>
<p><img src="img/17.png" alt=""></p>
<p>in our <code>source</code> repo, we can use the master branch.</p>
<p>Check the github web site on your account to see that you now have 2 separate repositories.</p>

          </div>
        
      </div>
    </div>
  </div>



  <script>
    $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

    $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

  </script>



  <div class="ui bottom fixed borderless right menu">
    <div class="ui right small menu">
      <div class="ui tiny basic message segment">
         Powered by <a href="https://github.com/edeleastar/tutors-ts">tutors-ts.</a> 
      </div>
    </div>
  </div>

  </body>

</html>